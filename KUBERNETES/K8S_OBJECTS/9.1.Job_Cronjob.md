# JOB & CRONJOB
## üìå Notes
- A **Job** is used to run a task **to completion** (e.g., batch processing, one-time scripts).  
- A **CronJob** is used to run Jobs on a **schedule** (like a Linux cron).  
- Unlike Deployments, Jobs/CronJobs ensure that tasks **complete successfully** instead of running continuously.  

## üìù JOB
```yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: my-job
spec:
  template:
    metadata:
      name: my-job
    spec:
      containers:
      - name: hello-container
        image: busybox
        command: ["sh", "-c", "echo Hello, Welcome to the DevOps Course!! && sleep 10"]
      restartPolicy: Never    # Ensures the pod won't restart after completion
  backoffLimit: 4             # Number of retries before marking Job as failed
````

### ‚ö° Commands for Job
Apply the job:
```bash
kubectl apply -f job.yaml
```

Check job status:
```bash
kubectl get jobs -w
```

Check pods created by the job:
```bash
kubectl get pods
```

View pod logs:
```bash
kubectl logs <pod-name>
```

Output
```
Hello, Welcome to the DevOps Course!!
```

## üìù CRONJOB
```yaml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: hello-cronjob
spec:
  schedule: "*/1 * * * *"   # Runs every minute
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: hello-container
            image: busybox
            command: ["sh", "-c", "echo Hello, Good Morning! && sleep 10"]
          restartPolicy: OnFailure
```

### ‚ö° Commands for CronJob
Apply the cronjob:
```bash
kubectl apply -f cronjob.yaml
```

Check cronjob status:
```bash
kubectl get cronjob -w
```

Check pods created by the cronjob:
```bash
kubectl get pods
```

View pod logs:
```bash
kubectl logs <pod-name>
```

Wait for 5 minutes to see multiple Jobs created automatically by the CronJob.

‚úÖ **Expected Output**

Every minute, a pod will run and print:

```
Hello, Good Morning!
```

## üöÄ Key Difference

| Feature   | Job                           | CronJob                        |
| --------- | ----------------------------- | ------------------------------ |
| Execution | Runs **once** until completed | Runs **on a schedule**         |
| Use Case  | One-time batch tasks          | Recurring tasks (backups, etc) |
| Restart   | `Never` / `OnFailure`         | Based on Job template rules    |
