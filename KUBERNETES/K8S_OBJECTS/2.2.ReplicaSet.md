# ğŸ” REPLICASET
## ğŸ“Œ Tips for Using ReplicaSet

1. The `apiVersion` for ReplicaSet is **'apps/v1'**
2. To use a **ReplicaSet** instead of a Pod, you must define:
   - `replicas`
   - `selector`
   - `template`  
   _(Think of it as the **RST** under `spec`)_
3. `replicas` is where you define the minimum no of pod replicas which should always be in a running state.
4. `selector` section contains `matchLabels` as ReplicaSet supports both equality & set based selectors. <br>
   _(This is not present in ReplicationController)_
5. `template` section consists of the entire **Pod metadata**.

## ğŸ” ReplicaSet Manifest

```yaml
apiVersion: apps/v1
kind: ReplicaSet
metadata:
  name: my-replicaset
spec:
  replicas: 1
  selector:
    matchLabels:
      name: my-pod1
  template:
    metadata:
      labels:
        name: my-pod1
    spec:
      containers:
      - name: container1
        image: httpd
```

## ğŸ“¦ Commands

```sh
kubectl apply -f replicaset.yaml                # Create the ReplicaSet
kubectl get replicaset                          # Check if the ReplicaSet is created
kubectl get pods                                # Verify that the pod is running
kubectl delete pod <pod-name>                   # Delete a pod and observe auto-replacement
```

### ğŸ”§ To Modify Replica Count

```sh
kubectl delete replicaset my-replicaset         # Delete the existing ReplicaSet
# Edit the YAML file and change the 'replicas' value
kubectl apply -f replicaset.yaml                # Reapply the updated manifest
```

## ğŸ“ Notes

- **ReplicationController** is deprecated and not used in modern Kubernetes setups.
- **ReplicaSet** is more flexible but lacks features like **rollback** and **updates**.
- Also if you make any changes in the manifest, you must manually delete & recrete the pods, this is not a case with **Deployments**.
- In real-world scenarios, we use **Deployment** objects instead of ReplicaSets.

