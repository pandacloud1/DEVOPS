# Mount volumes in Nodes
```sh
vi mount.yaml
```
```yaml
---
- name: mount volume
  hosts: all
  become: true
  tasks:
  - name: create filesystem
    filesystem: 
      fstab: ext4
      dev: /dev/sdb1		    # dev: device, check your device name (sdb1, sdb2 or xvda1, etc)

  - name: create mount point (dir)
    file: 
      path: /mnt/data1
      state: directory
      mode: '0755'

  - name: mount filesystem
    mount: 
      src: /dev/sdb1
      path: /mnt/data1
      fstype: ext4
      state: mounted
      state: 
...
```
```sh
ansible-playbook mount.yaml
```
```sh
ansible all -a "lsblk"
```

## The above playbook can be converted to use variables as below
```yaml
---
- name: Mount volume using variables
  hosts: all
  become: true
  vars:
    mount_device: /dev/sdb1
    mount_point: /mnt/data1
    filesystem_type: ext4
    mount_mode: '0755'

  tasks:
    - name: Create filesystem on {{ mount_device }}
      community.general.filesystem:
        dev: "{{ mount_device }}"
        fstype: "{{ filesystem_type }}"
        force: true

    - name: Create mount point directory {{ mount_point }}
      file:
        path: "{{ mount_point }}"
        state: directory
        mode: "{{ mount_mode }}"

    - name: Mount {{ mount_device }} to {{ mount_point }}
      mount:
        src: "{{ mount_device }}"
        path: "{{ mount_point }}"
        fstype: "{{ filesystem_type }}"
        opts: defaults
        state: mounted
```
