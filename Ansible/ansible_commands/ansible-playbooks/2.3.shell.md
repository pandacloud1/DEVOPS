# Shell Module
* Playbook to run shell script file on nodes
* First create a file 'file1.sh' in the nodes
```sh
vi shell.yaml
```
```yaml

---
- name: shell module
  hosts: <host IP>
  become: true
  tasks:
  - name: run shell script in nodes
    shell: /tmp/file1.sh
...
```

* Playbook to find running processes
* Store (register) it in variable & kill them

Create a playbook with all the processes named `testproc` & kill
```sh
vi kill-process.yaml
```
```yaml
---
- name: kill running process
  hosts: all
  become: true
  tasks:
  - name: get the running process & register in variable
    shell: "ps -aux | grep testproc | '{print $2}'"
    register: myvariable

  - name: kill the processes
    shell: "kill {{ item }}"
    with_items = "{{ item.stdout_lines }}" 
```
